document.addEventListener("DOMContentLoaded",(()=>{bindEvents(),initFAQ(),initializeTransactions(),startTransactionRotation(),updateTokenData(),fetchTokenData()}));let transactionTimer,tokenData={price:window.INITIAL_PRICE,symbol:window.TOKEN_SYMBOL,mcap:window.INITIAL_MC,volume:window.INITIAL_VOLUME,change:window.INITIAL_CHANGE};function bindEvents(){const t=document.querySelector("._a"),e=document.querySelectorAll("._7");t.addEventListener("click",(()=>window.openModal())),e.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const a=t.getAttribute("href");if(a&&a.startsWith("#")){const t=a,e=document.querySelector(t);if(e){const a=document.querySelector("._5").offsetHeight,n=e.offsetTop-a-20;window.scrollTo({top:n,behavior:"smooth"}),console.log(`Scrolling to ${t} at position ${n}`)}}else handleNavigation(e.target.textContent)}))}))}function initFAQ(){const t=document.querySelectorAll("._ab");t.forEach((e=>{e.children[0].addEventListener("click",(()=>{t.forEach((t=>{t!==e&&t.classList.remove("active")})),e.classList.toggle("active")}))}))}function initializeTransactions(t){const e=document.getElementById("_9");if(!e)return;const a=[];for(let e=0;e<3;e++)try{const e=generateFakeTransaction(t);a.push(e)}catch(e){console.error("Error generating transaction:",e);const n=createFallbackTransaction(t);a.push(n)}a.sort(((t,e)=>e.timestamp-t.timestamp)),e.innerHTML="",a.forEach(((t,a)=>{const n=createTransactionElement(t),s=window.innerWidth<=760;s?(n.style.opacity="0",n.style.transform="translateX(100px) scale(0.95)",n.style.maxHeight="0",n.style.margin="0"):(n.style.opacity="0",n.style.transform="translateY(20px) scale(0.95)",n.style.maxHeight="0",n.style.margin="0"),e.appendChild(n),setTimeout((()=>{n.style.transition="all 0.5s ease",n.style.opacity="1",s?(n.style.transform="translateX(0) scale(1)",n.style.maxHeight="60px"):(n.style.transform="translateY(0) scale(1)",n.style.maxHeight="80px"),n.style.margin="0"}),200*a)})),console.log("Initialized 3 transactions")}function startTransactionRotation(){transactionTimer&&clearInterval(transactionTimer),transactionTimer=setInterval((()=>{addNewTransaction()}),1e4)}function addNewTransaction(){const t=document.getElementById("_9");if(t)try{const e=createTransactionElement(generateFakeTransaction()),a=window.innerWidth<=760;a?(e.style.opacity="0",e.style.transform="translateX(100px) scale(0.95)",e.style.maxHeight="0",e.style.margin="0"):(e.style.opacity="0",e.style.transform="translateY(-20px) scale(0.95)",e.style.maxHeight="0",e.style.margin="0"),t.insertBefore(e,t.firstChild),setTimeout((()=>{e.style.transition="all 0.5s ease",e.style.opacity="1",a?(e.style.transform="translateX(0) scale(1)",e.style.maxHeight="60px"):(e.style.transform="translateY(0) scale(1)",e.style.maxHeight="80px"),e.style.margin="0"}),50);const n=t.querySelectorAll(".transaction-item");if(n.length>3){const t=n[n.length-1],e=window.innerWidth<=760;t.style.transition="all 0.5s ease",t.style.opacity="0",e?(t.style.transform="translateX(-100px) scale(0.95)",t.style.maxHeight="0"):(t.style.transform="translateY(20px) scale(0.95)",t.style.maxHeight="0"),t.style.margin="0",setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),500)}}catch(t){console.error("Error adding new transaction:",t)}}function generateFakeTransaction(){const t=700*Math.random()+300;let e=tokenData.price;"string"!=typeof e&&(e=String(e||"0.01"));const a=t/(parseFloat(e.replace("$","").replace(",",""))||.01),n=generateRandomHash(),s=generateRandomAddress(),o=generateRandomAddress(),r=Date.now()-24*Math.random()*60*60*1e3;return{hash:n,from:s,to:o,amount:a,usdAmount:t,tokenSymbol:tokenData.symbol,timestamp:r,status:"Confirmed"}}function generateRandomHash(){const t="0123456789abcdef";let e="";for(let a=0;a<64;a++)e+=t.charAt(Math.floor(16*Math.random()));return e}function generateRandomAddress(){const t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let e="";for(let a=0;a<44;a++)e+=t.charAt(Math.floor(58*Math.random()));return e}function createTransactionElement(t){const e=document.createElement("div");return e.className="transaction-item",e.innerHTML=`\n        <div class="transaction-field">\n            <span class="transaction-label">Hash</span>\n            <span class="transaction-value transaction-hash">${t.hash.substring(0,8)}...${t.hash.substring(56)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">From</span>\n            <span class="transaction-value">${t.from.substring(0,8)}...${t.from.substring(36)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">To</span>\n            <span class="transaction-value">${t.to.substring(0,8)}...${t.to.substring(36)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">Amount</span>\n            <span class="transaction-value transaction-amount">${t.amount.toFixed(2)} ${t.tokenSymbol}</span>\n        </div>\n        <div class="transaction-status">\n            <div class="status-dot"></div>\n            <span>${t.status}</span>\n        </div>\n    `,e}const fmt=new Intl.NumberFormat("de-DE");function fmtNumber(t){return fmt.format(Math.floor(t))}function formatNumberShort(t){return t>1e9?(t/1e9).toFixed(1)+"B":t>1e6?(t/1e6).toFixed(1)+"M":t>1e3?(t/1e3).toFixed(1)+"K":t.toFixed(0)}function updateTokenData(){document.querySelector("#_z").innerText="$"+fmtNumber(tokenData.mcap),document.querySelector("#_4").innerText="$"+fmtNumber(tokenData.volume),document.querySelector("#_m").innerText=(tokenData.change>0?"+":"-")+tokenData.change.toFixed(2)+"%",document.querySelector("#_b").innerText="$"+tokenData.price.toFixed(6),document.querySelector("#_3").innerText="$"+formatNumberShort(tokenData.mcap),document.querySelector("#_p").innerText="$"+formatNumberShort(tokenData.volume)}async function fetchTokenData(){const t="token-price-cache-"+window.TOKEN_SYMBOL;try{const e=JSON.parse(localStorage.getItem(t));if(!e)throw Error();tokenData=e,updateTokenData()}catch{const e=window.TOKEN_ADDRESS,a=await fetch("https://lite-api.jup.ag/tokens/v2/search?query="+e),n=(await a.json())[0];tokenData.mcap=n.mcap,tokenData.price=n.usdPrice,tokenData.volume=n.stats24h.buyVolume+n.stats24h.sellVolume,tokenData.change=n.stats24h.priceChange,updateTokenData(),localStorage.setItem(t,JSON.stringify(tokenData))}}